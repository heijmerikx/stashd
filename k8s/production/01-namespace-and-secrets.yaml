---
# Namespace for stashd production
apiVersion: v1
kind: Namespace
metadata:
  name: stashd

---
# Secret for database credentials
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secret
  namespace: stashd
  labels:
    app.kubernetes.io/name: stashd
    app.kubernetes.io/component: database
type: Opaque
stringData:
  POSTGRES_USER: "stashd_user"
  POSTGRES_PASSWORD: "CHANGE_ME_TO_SECURE_PASSWORD"
  POSTGRES_DB: "stashd"

---
# Secret for application configuration
apiVersion: v1
kind: Secret
metadata:
  name: app-secret
  namespace: stashd
  labels:
    app.kubernetes.io/name: stashd
    app.kubernetes.io/component: application
type: Opaque
stringData:
  # Database connection
  DB_HOST: "postgres-service"
  DB_PORT: "5432"
  DB_NAME: "stashd"
  DB_USER: "stashd_user"
  DB_PASSWORD: "CHANGE_ME_TO_SECURE_PASSWORD"

  # Redis connection
  REDIS_HOST: "redis-service"
  REDIS_PORT: "6379"

  # JWT Secret for authentication (generate with: openssl rand -base64 32)
  JWT_SECRET: "CHANGE_ME_TO_SECURE_JWT_SECRET"

  # Encryption secret for sensitive credentials (generate with: openssl rand -base64 32)
  ENCRYPTION_SECRET: "CHANGE_ME_TO_SECURE_ENCRYPTION_SECRET"

  # License public key (base64-encoded PEM)
  LICENSE_PUBLIC_KEY: "CHANGE_ME_BASE64_ENCODED_PUBLIC_KEY"

  # CORS origin (update to your domain)
  CORS_ORIGIN: "https://stashd.example.com"

---
# Secret for GitHub Container Registry
# Create manually with:
# kubectl create secret docker-registry ghcr-secret \
#   --docker-server=ghcr.io \
#   --docker-username=YOUR_GITHUB_USERNAME \
#   --docker-password=YOUR_GITHUB_TOKEN \
#   --namespace=stashd
